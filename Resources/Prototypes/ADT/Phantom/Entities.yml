- type: entity
  id: ADTMobPhantom
  name: phantom
  description: A spooky ghostie.
  components:
  - type: OuijaBoardUser
  - type: MindContainer
  - type: InputMover
  - type: MobMover
  - type: Input
    context: "ghost"
  - type: MovementSpeedModifier
    baseWalkSpeed: 6
    baseSprintSpeed: 6
  - type: Sprite
    noRot: true
    drawdepth: Ghosts
    sprite: ADT/Mobs/Phantom/phantom.rsi
    layers:
    - state: phantom
  - type: Clickable
  - type: StatusEffects
    allowed:
    - Stun
    - Corporeal
  - type: InteractionOutline
  - type: Physics
    bodyType: KinematicController
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 80
        mask:
        - GhostImpassable
  - type: MovementIgnoreGravity
  - type: Damageable
    damageContainer: Biological
  - type: Examiner
  - type: NoSlip
  - type: Actions
  #- type: TTS
  #  voice: Kelthuzad
  - type: Eye
    drawFov: false
    visMask:
      - Normal
      - Ghost
  - type: ContentEye
    maxZoom: 1.2, 1.2
  - type: DoAfter
  - type: Alerts
  - type: GhostTakeoverAvailable
  - type: Phantom
    monsters:
    - "ADTPhantomUndead"
    - "ADTPhantomHaunted"
    - "ADTPhantomSoulBurned"
    - "ADTPhantomSparkOfLife"
    - "ADTPhantomSoullessFiend"
  - type: PointLight
    color: Cyan
    radius: 2
    softness: 1
  - type: Visibility
    layer: 2 #ghost vis layer
  - type: Speech
    speechVerb: Ghost
  - type: LanguageSpeaker # Frontier
    speaks:
    - GalacticCommon
    understands:
    - GalacticCommon
  - type: AlternativeSpeech
  - type: TypingIndicator
    proto: alien

- type: entity
  id: ADTPhantomPortal
  name: odd object
  description: What is this?
  components:
  - type: Transform
    anchored: True
  - type: InteractionOutline
  - type: Clickable
  - type: Physics
    bodyType: Static
  - type: Sprite
    sprite: /Textures/ADT/Objects/Specific/phantom_portal.rsi
    layers:
    - state: portal-idle
  - type: Fixtures
    fixtures:
      portalFixture:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.48,0.25,0.48"
        mask:
        - FullTileMask
        layer:
        - WallLayer
        hard: false
  - type: PhantomPortal
  - type: Visibility
    layer: 4 #phantom vessels' layer

- type: entity
  id: ADTPhantomReincarnationAnim
  name: phantom
  description: A spooky ghostie.
  components:
  - type: MindContainer
  - type: InputMover
  - type: MobMover
  - type: MovementSpeedModifier
    baseWalkSpeed: 0
    baseSprintSpeed: 0
  - type: Sprite
    noRot: true
    sprite: ADT/Mobs/Phantom/reincarnation.rsi
    layers:
    - state: reincarnation
  - type: Clickable
  - type: InteractionOutline
  - type: MovementIgnoreGravity
  - type: Examiner
  - type: NoSlip
  - type: Actions
  - type: ContentEye
    maxZoom: 1.2, 1.2
  - type: DoAfter
  - type: Alerts
  - type: Speech
    speechVerb: Ghost
  - type: LanguageSpeaker # Frontier
    speaks:
    - GalacticCommon
    understands:
    - GalacticCommon
  - type: TransformAnimation
    transformingTo: ADTMobPhantomReincarnated
    duration: 2.5
  - type: PhantomPuppet

- type: entity
  noSpawn: true
  parent: MobHuman
  id: ADTMobPhantomReincarnated
  name: PhantomReincarnated
  components:
    - type: RandomHumanoidAppearance
    - type: PhantomPuppet

  # Monsters

- type: entity
  parent: BaseMob
  id: ADTBasePhantomMonster
  name: undead
  description: un ded
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: ADT/Mobs/Phantom/monsters.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: haunted
  - type: DamageStateVisuals
    states:
      Alive:
        Base: haunted
      Critical:
        Base: haunted_dead
      Dead:
        Base: haunted_dead
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Weapons/genhit1.ogg
    animation: WeaponArcFist
    damage:
      types:
        Blunt: 10
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Skeleton
  - type: MovementSpeedModifier
    baseWalkSpeed: 6
    baseSprintSpeed: 8
  - type: MobThresholds
    thresholds:
      0: Alive
      125: Dead
  - type: LanguageSpeaker # Frontier
    speaks:
    - GalacticCommon
    understands:
    - GalacticCommon
  - type: Tag
    tags:
    - DoorBumpOpener
    - Flesh
  - type: MovementAlwaysTouching
  - type: MobState
    allowedStates:
    - Alive
    - Dead
  - type: CombatMode
  - type: Vessel
  - type: ShowVesselIcons
  - type: Pullable
  
- type: entity
  parent: ADTBasePhantomMonster
  id: ADTPhantomUndead
  name: undead
  description: un ded
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: ADT/Mobs/Phantom/monsters.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: undead
  - type: DamageStateVisuals
    states:
      Alive:
        Base: undead
      Critical:
        Base: undead_defeated
      Dead:
        Base: undead_defeated
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Weapons/genhit1.ogg
    animation: WeaponArcFist
    damage:
      types:
        Blunt: 10
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Skeleton
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 6
  - type: MobThresholds
    thresholds:
      0: Alive
      155: Dead

- type: entity
  parent: ADTBasePhantomMonster
  id: ADTPhantomHaunted
  name: haunted
  description: huhu
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: ADT/Mobs/Phantom/monsters.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: haunted
  - type: DamageStateVisuals
    states:
      Alive:
        Base: haunted
      Critical:
        Base: haunted_dead
      Dead:
        Base: haunted_dead
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Weapons/genhit1.ogg
    animation: WeaponArcFist
    damage:
      types:
        Blunt: 10
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: FlimsyMetallic
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 5
  - type: MobThresholds
    thresholds:
      0: Alive
      130: Dead

- type: entity
  parent: ADTBasePhantomMonster
  id: ADTPhantomSoulBurned
  name: soul burned
  description: huhu
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: ADT/Mobs/Phantom/monsters.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: soul_burned
  - type: DamageStateVisuals
    states:
      Alive:
        Base: soul_burned
      Critical:
        Base: soul_burned_defeated
      Dead:
        Base: soul_burned_defeated
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Weapons/genhit1.ogg
    animation: WeaponArcSmash
    damage:
      types:
        Blunt: 7.5
        Heat: 7.5
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: FlimsyMetallic
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 5
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Dead
  - type: Reactive
    groups:
      Flammable: [ Touch ]
      Extinguish: [ Touch ]
    reactions:
    - reagents: [ Water, SpaceCleaner ]
      methods: [ Touch ]
      effects:
      - !type:WashCreamPieReaction
    - reagents: [ Water, SpaceCleaner ]
      methods: [ Touch ]
      effects:
      - !type:HealthChange
        scaled: true
        damage:
          types:
            Heat: 20

- type: entity
  parent: ADTBasePhantomMonster
  id: ADTPhantomSparkOfLife
  name: spark of life
  description: huhu
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: ADT/Mobs/Phantom/monsters.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: spark_of_life
  - type: DamageStateVisuals
    states:
      Alive:
        Base: spark_of_life
      Critical:
        Base: spark_of_life_dead
      Dead:
        Base: spark_of_life_dead
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Weapons/genhit1.ogg
    animation: WeaponArcDisarm
    damage:
      types:
        Genetic: 10
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: FlimsyMetallic
  - type: MovementSpeedModifier
    baseWalkSpeed: 1
    baseSprintSpeed: 3
  - type: MobThresholds
    thresholds:
      0: Alive
      175: Dead

- type: entity
  parent: ADTBasePhantomMonster
  id: ADTPhantomSoullessFiend
  name: soulless fiend
  description: huhu
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: ADT/Mobs/Phantom/monsters.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: souless_fiend
  - type: DamageStateVisuals
    states:
      Alive:
        Base: souless_fiend
      Critical:
        Base: souless_fiend_dead
      Dead:
        Base: souless_fiend_dead
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Weapons/genhit1.ogg
    animation: WeaponArcSlash
    damage:
      types:
        Slash: 25
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: FlimsyMetallic
  - type: MovementSpeedModifier
    baseWalkSpeed: 2
    baseSprintSpeed: 4
  - type: MobThresholds
    thresholds:
      0: Alive
      245: Dead
  - type: Prying
    pryPowered: true
    speedModifier: 0.75

- type: entity
  id: ADTGhostRadioUnpowered
  parent: [ BaseItem ]
  name: ghost radio
  description: "fshhhshfpshhh."
  components:
  - type: Item
    sprite: ADT/Objects/Device/ghost_radio.rsi
  - type: Sprite
    sprite: ADT/Objects/Device/ghost_radio.rsi
    state: icon
    layers:
      - state: icon
      - state: radio
        shader: unshaded
        visible: false
        map: [ "enum.ToggleVisuals.Layer", "enum.PowerDeviceVisualLayers.Powered" ]
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.ToggleVisuals.Toggled:
        enum.ToggleVisuals.Layer:
          True: { visible: true }
          False: { visible: false }
  - type: GhostRadio
    enabled: false
  - type: ToggleableLightVisuals
    spriteLayer: radio

- type: entity
  id: ADTGhostRadio
  parent: [ ADTGhostRadioUnpowered, PowerCellSlotMediumItem ]
  suffix: Powered
  components:
  - type: PowerCellDraw
    drawRate: 1

- type: entity
  id: ADTGhostRadioEmtpy
  parent: [ ADTGhostRadio ]
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default

- type: entity
  id: ADTPhantomEctoplasm
  parent: BaseItem
  name: ectoplasm
  description: ecto-thing that ghosts usually.. idk what they doing with this, ok?
  components:
  - type: Item
    storedRotation: -90
  - type: Sprite
    sprite: ADT/Objects/Misc/ectoplasm.rsi
    layers:
    - state: icon
  - type: Battery
    maxCharge: 1
    startingCharge: 1
    pricePerJoule: 0
  - type: Appearance
  - type: HitscanBatteryAmmoProvider
    proto: EctoLaser
    fireCost: 0.1
  - type: Tag
    tags:
    - PhantomEctoplasm
  - type: Material
  - type: PhysicalComposition
    materialComposition:
      Ectoplasm: 100
  - type: Stack
    stackType: Ectoplasm
    count: 1
  - type: PointLight
    color: Cyan
    radius: 1.5
    softness: 3

- type: material
  id: Ectoplasm
  stackEntity: ADTPhantomEctoplasm
  name: эктоплазма
  icon: { sprite: ADT/Objects/Misc/ectoplasm.rsi, state: icon }
  color: "#ffffff"
  price: 0.05

- type: stack
  id: Ectoplasm
  name: ectoplasm
  icon: { sprite: ADT/Objects/Misc/ectoplasm.rsi, state: icon }
  spawn: ADTPhantomEctoplasm
  maxCount: 1
  itemSize: 1

- type: entity
  id: PseudoEntityPhantomLight
  parent: PseudoEntity
  noSpawn: true
  components:
  - type: PointLight
    color: Cyan
    radius: 2
    softness: 3
